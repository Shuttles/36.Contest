# 二维前缀和

1. S(i, j)表示从martix(1, 1)到(i, j)的子矩阵和
2. 计算前缀和、根据前缀和计算区间和　都是基于容斥原理的思想



## 1.如何计算前缀和？

1. $S(x, y) = S(x-1, y) + S(x, y-1) - S(x-1,y-1) + martix(x, y) $

![img](https://wx3.sinaimg.cn/mw690/005LasY6ly1gpdvmlvy0ij30kv0aldhk.jpg)





## 2.如何计算区间和(子矩阵和)？

子矩阵左上角坐标为(x1, y1)，右下角坐标为(x2, y2)

1. 子矩阵和 = $S(x_2, y_2) - S(x_1-1, y_2) - S(x_2, y_1-1) + S(x_1-1, y_1-1)$

![img](https://wx2.sinaimg.cn/mw690/005LasY6ly1gpdvmp8vzkj30lr0azdhp.jpg)